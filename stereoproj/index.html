
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-8.0.3">
    
    
      
        <title>StereoProj - pycotem</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.62128196.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.9204c3b2.min.css">
        
          
          
          <meta name="theme-color" content="#7e56c2">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Asap:300,400,400i,700%7C&display=fallback">
        <style>:root{--md-text-font:"Asap";--md-code-font:""}</style>
      
    
    
      <link rel="stylesheet" href="../extra.css">
    
    <script>function __md_scope(e,t,_){return new URL(_||(t===localStorage?"..":".."),location).pathname+"."+e}function __md_get(e,t=localStorage,_){return JSON.parse(t.getItem(__md_scope(e,t,_)))}function __md_set(e,t,_=localStorage,o){try{_.setItem(__md_scope(e,_,o),JSON.stringify(t))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#stereographic-projections" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="pycotem" class="md-header__button md-logo" aria-label="pycotem" data-md-component="logo">
      
  <img src="../images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            pycotem
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              StereoProj
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/mompiou/pycotem" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    mompiou/pycotem
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="pycotem" class="md-nav__button md-logo" aria-label="pycotem" data-md-component="logo">
      
  <img src="../images/logo.png" alt="logo">

    </a>
<!--    pycotem-->
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mompiou/pycotem" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    mompiou/pycotem
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../started/" class="md-nav__link">
        Getting started
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../diffraction/" class="md-nav__link">
        Diffraction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../kikuchi/" class="md-nav__link">
        Kikuchi
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          StereoProj
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        StereoProj
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#stereographic-projections" class="md-nav__link">
    Stereographic projections
  </a>
  
    <nav class="md-nav" aria-label="Stereographic projections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#construction" class="md-nav__link">
    Construction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-wulff-net" class="md-nav__link">
    The Wulff net
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#euler-angles" class="md-nav__link">
    Euler angles
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#coordinate-systems" class="md-nav__link">
    Coordinate systems
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interface" class="md-nav__link">
    Interface
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plotting-procedure" class="md-nav__link">
    Plotting procedure
  </a>
  
    <nav class="md-nav" aria-label="Plotting procedure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setting-up-the-crystal" class="md-nav__link">
    Setting up the crystal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from-euler-angles" class="md-nav__link">
    From Euler angles
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from-a-zone-axis" class="md-nav__link">
    From a zone axis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from-a-diffraction-vector" class="md-nav__link">
    From a diffraction vector
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#plotting-polesplanescones" class="md-nav__link">
    Plotting poles/planes/cones
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simple-labels" class="md-nav__link">
    Simple labels
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#layout" class="md-nav__link">
    Layout
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-features" class="md-nav__link">
    Additional features
  </a>
  
    <nav class="md-nav" aria-label="Additional features">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#save" class="md-nav__link">
    Save
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#angle" class="md-nav__link">
    Angle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schmid-factor" class="md-nav__link">
    Schmid factor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xyz-directions" class="md-nav__link">
    xyz directions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list" class="md-nav__link">
    List
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#width" class="md-nav__link">
    Width
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intersections" class="md-nav__link">
    Intersections
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diffraction" class="md-nav__link">
    Diffraction
  </a>
  
    <nav class="md-nav" aria-label="Diffraction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diffraction-pattern" class="md-nav__link">
    Diffraction pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kikuchi-lines" class="md-nav__link">
    Kikuchi lines
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pole-and-inverse-pole-figures" class="md-nav__link">
    Pole and inverse pole figures
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../interface/" class="md-nav__link">
        Interface
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../misorientation/" class="md-nav__link">
        Misorientation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../crystal/" class="md-nav__link">
        Crystal
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ressources/" class="md-nav__link">
        Further ressources
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../contribute/" class="md-nav__link">
        About
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#stereographic-projections" class="md-nav__link">
    Stereographic projections
  </a>
  
    <nav class="md-nav" aria-label="Stereographic projections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#construction" class="md-nav__link">
    Construction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-wulff-net" class="md-nav__link">
    The Wulff net
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#euler-angles" class="md-nav__link">
    Euler angles
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#coordinate-systems" class="md-nav__link">
    Coordinate systems
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interface" class="md-nav__link">
    Interface
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plotting-procedure" class="md-nav__link">
    Plotting procedure
  </a>
  
    <nav class="md-nav" aria-label="Plotting procedure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setting-up-the-crystal" class="md-nav__link">
    Setting up the crystal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from-euler-angles" class="md-nav__link">
    From Euler angles
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from-a-zone-axis" class="md-nav__link">
    From a zone axis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from-a-diffraction-vector" class="md-nav__link">
    From a diffraction vector
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#plotting-polesplanescones" class="md-nav__link">
    Plotting poles/planes/cones
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simple-labels" class="md-nav__link">
    Simple labels
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#layout" class="md-nav__link">
    Layout
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-features" class="md-nav__link">
    Additional features
  </a>
  
    <nav class="md-nav" aria-label="Additional features">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#save" class="md-nav__link">
    Save
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#angle" class="md-nav__link">
    Angle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schmid-factor" class="md-nav__link">
    Schmid factor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xyz-directions" class="md-nav__link">
    xyz directions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list" class="md-nav__link">
    List
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#width" class="md-nav__link">
    Width
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intersections" class="md-nav__link">
    Intersections
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diffraction" class="md-nav__link">
    Diffraction
  </a>
  
    <nav class="md-nav" aria-label="Diffraction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diffraction-pattern" class="md-nav__link">
    Diffraction pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kikuchi-lines" class="md-nav__link">
    Kikuchi lines
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pole-and-inverse-pole-figures" class="md-nav__link">
    Pole and inverse pole figures
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                

  <h1>StereoProj</h1>

<p><strong>Stereoproj</strong> allows to work with stereographic projections.</p>
<h2 id="stereographic-projections">Stereographic projections<a class="headerlink" href="#stereographic-projections" title="Permanent link">&para;</a></h2>
<p>A stereographic projection is a type of projection that maps a unit sphere onto a plane. It is a conformal projection, which means it preserves angles. Stereographic projections are often used for practical reason in crystallography to display symmetry elements. This is an essential tool for electron microscopists who want to analyze microstructures. Traditionally, projections are drawn by hand with the help of a Wulff net.</p>
<h3 id="construction">Construction<a class="headerlink" href="#construction" title="Permanent link">&para;</a></h3>
<p>Let's consider the south pole <span class="arithmatex"><span class="MathJax_Preview">S</span><script type="math/tex">S</script></span> of a sphere lying in a <span class="arithmatex"><span class="MathJax_Preview">(x,y,z)</span><script type="math/tex">(x,y,z)</script></span> coordinate system. A point <span class="arithmatex"><span class="MathJax_Preview">M</span><script type="math/tex">M</script></span> in the upper hemisphere of the sphere can be projected on <span class="arithmatex"><span class="MathJax_Preview">M'</span><script type="math/tex">M'</script></span> defined as the intersection between the line <span class="arithmatex"><span class="MathJax_Preview">MS</span><script type="math/tex">MS</script></span> and the equatorial plane, i.e the plane that cuts the sphere at <span class="arithmatex"><span class="MathJax_Preview">z=0</span><script type="math/tex">z=0</script></span>. </p>
<p><img alt="" src="../images/stereo1.png" /></p>
<div class="admonition info">
<p class="admonition-title">Projection convention</p>
<p>From a geometrical construction, points in the lower hemisphere (<span class="arithmatex"><span class="MathJax_Preview">z</span><script type="math/tex">z</script></span> negative) do not appear. They can alternatively be projected on the plane from the north pole instead. Opposite 3D directions, will then have opposite coordinates in the projection plane. In <strong>Stereoproj</strong>,  we choose to discard points from the lower hemisphere.</p>
</div>
<p>From this construction, it results several important features:</p>
<ul>
<li>
<p>3D directions <span class="arithmatex"><span class="MathJax_Preview">(x_0,y_0,z_0)</span><script type="math/tex">(x_0,y_0,z_0)</script></span> are projected into points of coordinates <span class="arithmatex"><span class="MathJax_Preview">(X_0,Y_0)</span><script type="math/tex">(X_0,Y_0)</script></span>  such as <span class="arithmatex"><span class="MathJax_Preview">X_0= \frac{x_0}{1+z_0} \ Y_0=\frac{y_0}{1+z_0}</span><script type="math/tex">X_0= \frac{x_0}{1+z_0} \ Y_0=\frac{y_0}{1+z_0}</script></span>.</p>
</li>
<li>
<p>circles on the sphere, which correspond to 3D planes (full circles) or cones (smaller circles), are projected as portion or full circles.</p>
</li>
<li>
<p>the north/south pole is located at the center of the stereographic projection.</p>
</li>
<li>
<p>the equatorial plane is projected as a great circle that bounds the stereograpic projection.</p>
</li>
<li>
<p>any 3D direction can be defined by two angles <sup id="fnref:ang"><a class="footnote-ref" href="#fn:ang">1</a></sup> that we can choose as their inclination angle <span class="arithmatex"><span class="MathJax_Preview">\eta</span><script type="math/tex">\eta</script></span> with respect to the <span class="arithmatex"><span class="MathJax_Preview">Oy</span><script type="math/tex">Oy</script></span> direction and tilt angle <span class="arithmatex"><span class="MathJax_Preview">\alpha</span><script type="math/tex">\alpha</script></span> with respect to the reference equatorial plane.</p>
</li>
</ul>
<h3 id="the-wulff-net">The Wulff net<a class="headerlink" href="#the-wulff-net" title="Permanent link">&para;</a></h3>
<p>The Wulff net results from the projection of equally distributed planes called meridians and parallels <sup id="fnref:ang2"><a class="footnote-ref" href="#fn:ang2">2</a></sup>. The first ones correspond to planes of a given tilt angle, the second correspond to planes of a given inclination angle <sup id="fnref:ang3"><a class="footnote-ref" href="#fn:ang3">3</a></sup>. In <strong>Stereoproj</strong>, meridians and parallels can be displayed and are spaced every 2° with thicker lines every 10°.</p>
<p><img alt="" src="../images/stereo2.png" /></p>
<blockquote>
<p>Meridians and parallels forming a Wulff net. Definition of the inclination and tilt angles.</p>
</blockquote>
<h3 id="euler-angles">Euler angles<a class="headerlink" href="#euler-angles" title="Permanent link">&para;</a></h3>
<p>The orientation of a crystal can be set by 3 angles. Indeed, given a direction, defined by two angles, the orientation can be fixed after rotating along this direction. A second standard definition of orientation is set by the Euler angles <span class="arithmatex"><span class="MathJax_Preview">(\varphi_1, \phi, \varphi_2)</span><script type="math/tex">(\varphi_1, \phi, \varphi_2)</script></span>. In crystallography, it is traditionally adopted, according to Bunge, that it corresponds to:</p>
<ol>
<li>
<p>a rotation along the <span class="arithmatex"><span class="MathJax_Preview">z</span><script type="math/tex">z</script></span> of  axis <span class="arithmatex"><span class="MathJax_Preview">\varphi_1</span><script type="math/tex">\varphi_1</script></span></p>
</li>
<li>
<p>a rotation along <span class="arithmatex"><span class="MathJax_Preview">x'</span><script type="math/tex">x'</script></span> of <span class="arithmatex"><span class="MathJax_Preview">\phi</span><script type="math/tex">\phi</script></span> </p>
</li>
<li>
<p>a rotation along <span class="arithmatex"><span class="MathJax_Preview">z'</span><script type="math/tex">z'</script></span> of <span class="arithmatex"><span class="MathJax_Preview">\varphi_2</span><script type="math/tex">\varphi_2</script></span>. </p>
</li>
</ol>
<p>In the example below: <span class="arithmatex"><span class="MathJax_Preview">(\varphi_1,\phi,\varphi_2)=(-80,40,30)</span><script type="math/tex">(\varphi_1,\phi,\varphi_2)=(-80,40,30)</script></span></p>
<p><img alt="" src="../images/euler.png" /></p>
<blockquote>
<p>Definition of the Euler angles, represented on the stereographic projection and in 3D. Points on the projections indicate the <span class="arithmatex"><span class="MathJax_Preview">x,y,z</span><script type="math/tex">x,y,z</script></span> directions. </p>
</blockquote>
<div class="admonition info">
<p class="admonition-title">Rotation matrices and Euler angles </p>
<p>The orientation is defined by a rotation matrix that links the reference frame <span class="arithmatex"><span class="MathJax_Preview">(x,y,z)</span><script type="math/tex">(x,y,z)</script></span> to the crystal frame <span class="arithmatex"><span class="MathJax_Preview">(x',y',z')</span><script type="math/tex">(x',y',z')</script></span> by composing the 3 rotations. In the example shown, it was considered that the rotations operate sequentially in a moving frame: they are called intrinsic. </p>
<p>This definition is however not convenient for working with rotation matrices as the rotation axes move in the reference frame. So, we can define the Euler angles from extrinsic rotations, i.e. rotations that operate in the fixed reference frame <span class="arithmatex"><span class="MathJax_Preview">(x,y,z)</span><script type="math/tex">(x,y,z)</script></span>, in the way presented in the figure below for <span class="arithmatex"><span class="MathJax_Preview">(\varphi_1,\phi,\varphi_2)=(-80,40,30)</span><script type="math/tex">(\varphi_1,\phi,\varphi_2)=(-80,40,30)</script></span>. </p>
<p><img alt="" src="../images/extrinsic.png" /></p>
<p>This corresponds to: a rotation along <span class="arithmatex"><span class="MathJax_Preview">z</span><script type="math/tex">z</script></span> of an angle <span class="arithmatex"><span class="MathJax_Preview">\varphi_2</span><script type="math/tex">\varphi_2</script></span>, a rotation along <span class="arithmatex"><span class="MathJax_Preview">x</span><script type="math/tex">x</script></span> of <span class="arithmatex"><span class="MathJax_Preview">\phi</span><script type="math/tex">\phi</script></span> and a rotation along <span class="arithmatex"><span class="MathJax_Preview">z</span><script type="math/tex">z</script></span> of <span class="arithmatex"><span class="MathJax_Preview">\varphi_1</span><script type="math/tex">\varphi_1</script></span>, i.e. <sup id="fnref:1"><a class="footnote-ref" href="#fn:1">5</a></sup>: </p>
<p>$$
R=R_z(\varphi_1)R_x(\phi)R_z(\varphi_2)
$$
where <span class="arithmatex"><span class="MathJax_Preview">R_z(a)</span><script type="math/tex">R_z(a)</script></span> and <span class="arithmatex"><span class="MathJax_Preview">R_x(a)</span><script type="math/tex">R_x(a)</script></span> are the rotation matrices along <span class="arithmatex"><span class="MathJax_Preview">x</span><script type="math/tex">x</script></span> and <span class="arithmatex"><span class="MathJax_Preview">z</span><script type="math/tex">z</script></span> axis of an angle <span class="arithmatex"><span class="MathJax_Preview">a</span><script type="math/tex">a</script></span>.
Inversely, knowing the rotation matrix, the Euler angles can be determined: 
$$
\varphi_1 = \arctan(R_{02}/R_{12}), \phi = \arccos(R_{22}), \varphi_2 = \arctan(R_{20}/R_{21})
$$
However, when <span class="arithmatex"><span class="MathJax_Preview">\phi=0 (\pi)</span><script type="math/tex">\phi=0 (\pi)</script></span>, the angles <span class="arithmatex"><span class="MathJax_Preview">\varphi_2</span><script type="math/tex">\varphi_2</script></span> and <span class="arithmatex"><span class="MathJax_Preview">\varphi_1</span><script type="math/tex">\varphi_1</script></span> are not defined independently, i.e. because they share a common rotation axis. This phenomena is known as <em>gimbal lock</em>  and can be resolved by setting <span class="arithmatex"><span class="MathJax_Preview">\phi = 0</span><script type="math/tex">\phi = 0</script></span>, <span class="arithmatex"><span class="MathJax_Preview">\varphi_1 = 0</span><script type="math/tex">\varphi_1 = 0</script></span> and <span class="arithmatex"><span class="MathJax_Preview">\varphi_2 = \arctan(R_{10}/R_{00})</span><script type="math/tex">\varphi_2 = \arctan(R_{10}/R_{00})</script></span></p>
</div>
<h2 id="coordinate-systems">Coordinate systems<a class="headerlink" href="#coordinate-systems" title="Permanent link">&para;</a></h2>
<p>Microscope coordinate system is defined by the axes <span class="arithmatex"><span class="MathJax_Preview">(x,y,z)</span><script type="math/tex">(x,y,z)</script></span> as shown in the figure below. The <span class="arithmatex"><span class="MathJax_Preview">y</span><script type="math/tex">y</script></span> axis corresponds to the holder primary tilt axis called <span class="arithmatex"><span class="MathJax_Preview">\alpha</span><script type="math/tex">\alpha</script></span>-tilt axis. The <span class="arithmatex"><span class="MathJax_Preview">x</span><script type="math/tex">x</script></span> direction corresponds to the secondary tilt axis called <span class="arithmatex"><span class="MathJax_Preview">\beta</span><script type="math/tex">\beta</script></span>-tilt axis for a double tilt sample holder. The <span class="arithmatex"><span class="MathJax_Preview">z</span><script type="math/tex">z</script></span> direction is anti-parallel with the electron beam. It corresponds to the rotation axis for a tilt-rotation sample holder. By default, the rotation angles are taken positive in the clockwise sense, i.e. right handed.</p>
<p><img alt="" src="../images/coordinate.png" /></p>
<p>The sample, and then the crystal, can be rotated around the tilt axes. Rotation steps are 5° by default. The value of rotation angle are indicated. The sense of rotation can be changed by ticking the <code>AC</code> (anti-clockwise) box. </p>
<p><img alt="" src="../images/rotation.png" /></p>
<p>The <code>Reset</code> button allows to reset the values displayed.</p>
<p>When the <code>Lock Axes</code> box is checked, the <span class="arithmatex"><span class="MathJax_Preview">x</span><script type="math/tex">x</script></span> and <span class="arithmatex"><span class="MathJax_Preview">z</span><script type="math/tex">z</script></span> axes are now fixed with the sample, in order to mimic the behavior of double tilt and tilt-rotation holder.</p>
<div class="admonition info">
<p class="admonition-title">Rotation in double tilt </p>
<p>When the axes are fixed in the microscope frame <span class="arithmatex"><span class="MathJax_Preview">(x,y,z)</span><script type="math/tex">(x,y,z)</script></span>, the rotation order matters. However, when the <span class="arithmatex"><span class="MathJax_Preview">x</span><script type="math/tex">x</script></span> axis is fixed in the sample frame and <span class="arithmatex"><span class="MathJax_Preview">y</span><script type="math/tex">y</script></span> fixed in the microscope frame, the two operations are commutative. In terms of rotation matrices, we have: </p>
<div class="arithmatex">
<div class="MathJax_Preview">
R_y(\alpha)R_x(\beta)=R_u(\beta)R_y(\alpha) \\
u=R_y(\alpha)  [1,0,0]~^T
</div>
<script type="math/tex; mode=display">
R_y(\alpha)R_x(\beta)=R_u(\beta)R_y(\alpha) \\
u=R_y(\alpha)  [1,0,0]~^T
</script>
</div>
<p>Same conclusions hold for tilt-rotation holder.</p>
<p><img alt="" src="../images/doubletilt.png" /></p>
<blockquote>
<p>Top: rotation with fixed rotation axes, Bottom: rotation with a fixed <span class="arithmatex"><span class="MathJax_Preview">y</span><script type="math/tex">y</script></span> tilt and moving <span class="arithmatex"><span class="MathJax_Preview">x</span><script type="math/tex">x</script></span> tilt. Red and blue paths represent a switch in the tilt order.</p>
</blockquote>
</div>
<p>Crystallographic feature analyses are carried out in a TEM using both diffraction and image mode. When the electrons passing through the specimen are focused in the back focal plane of the objective lens, they form a diffraction pattern which can be magnified in the projection plane where the pattern is recorded. Conversely, an image is formed in the first image plane of the objective lens, which can also be magnified by the projection lenses. To switch from image to diffraction mode, the power of the objective lens has to be modified which induces an image rotation. To enlarge the pattern or the image, the effect of intermediate and projection lenses may also introduce rotations.
For this reason, the holder coordinate system does not correspond to the coordinate system as viewed in the recorded image or diffraction patterns. Users need thus to determine the relation between the two.</p>
<p><img alt="" src="../images/rotation-image-diff.png" /></p>
<p>In image mode, the position of the <span class="arithmatex"><span class="MathJax_Preview">\alpha</span><script type="math/tex">\alpha</script></span>-tilt axis with respect to the <span class="arithmatex"><span class="MathJax_Preview">Y</span><script type="math/tex">Y</script></span> axis, represented by an angle <span class="arithmatex"><span class="MathJax_Preview">\delta</span><script type="math/tex">\delta</script></span>, can be determined by pushing or pulling on the holder and recording the motion of features on the image.</p>
<p>In diffraction mode, the position of the <span class="arithmatex"><span class="MathJax_Preview">\alpha</span><script type="math/tex">\alpha</script></span>-tilt axis with respect to the <span class="arithmatex"><span class="MathJax_Preview">Y</span><script type="math/tex">Y</script></span> axis, represented by an angle <span class="arithmatex"><span class="MathJax_Preview">\xi</span><script type="math/tex">\xi</script></span>, can be determined by rotating the crystal and recording the displacement of the Kikuchi bands, which will be perpendicular to the rotation axis <sup id="fnref:kikuchi"><a class="footnote-ref" href="#fn:kikuchi">4</a></sup>.</p>
<div class="admonition info">
<p class="admonition-title">180° rotation</p>
<p>Because images and diffraction patterns are naturally inverted because of the objective lens, there usually exists a 180° rotation between image and diffraction modes. In some cases, this extra rotation needs to be taken into account, i.e. when we care about <span class="arithmatex"><span class="MathJax_Preview">(h,k,l)</span><script type="math/tex">(h,k,l)</script></span> or <span class="arithmatex"><span class="MathJax_Preview">(\bar{h},\bar{k},\bar{l})</span><script type="math/tex">(\bar{h},\bar{k},\bar{l})</script></span>. This can be solved by inspecting the sense of displacement of the Kikuchi lines with respect to the tilt angle, or by inspecting how the image is inverted or not in diffraction mode, compared to image mode, when under or over-focusing the diffraction lens. A 180° rotation exists if the image seen in the transmitted beam in diffraction mode is rotated when under-focusing the diffraction lens.</p>
</div>
<p>Because it is easier to navigate in the stereographic projection when knowing either the angle <span class="arithmatex"><span class="MathJax_Preview">\delta</span><script type="math/tex">\delta</script></span>, in reciprocal space or <span class="arithmatex"><span class="MathJax_Preview">\xi</span><script type="math/tex">\xi</script></span> in direct space, the rotation angle in image and diffraction mode can be indicated in the <code>diff alpha/y-angle</code> and <code>image alpha/y angle</code> fields. Tick the <code>img/diff</code> box to switch to image mode. When the view is updated, the tilting axes (and Wulff net) are rotated accordingly along the <span class="arithmatex"><span class="MathJax_Preview">z</span><script type="math/tex">z</script></span> axis as illustrated in the picture below. </p>
<p><img alt="" src="../images/rotation-image-diff2.png" /></p>
<div class="admonition info">
<p class="admonition-title">Note</p>
<p>Note that the Euler angles are always defined in the microscope coordinates, which is now rotated. Rotation along the <span class="arithmatex"><span class="MathJax_Preview">\alpha</span><script type="math/tex">\alpha</script></span>, <span class="arithmatex"><span class="MathJax_Preview">\beta</span><script type="math/tex">\beta</script></span> and <span class="arithmatex"><span class="MathJax_Preview">\theta</span><script type="math/tex">\theta</script></span> axes will now be updated. The diffraction patterns and Kikuchi bands are plotted owing the rotation indicated in the <code>diff alpha/y_angle</code> entry.</p>
</div>
<h2 id="interface">Interface<a class="headerlink" href="#interface" title="Permanent link">&para;</a></h2>
<p>The interface is composed of a top menu bar, the plotting area and the plotting panel. Zoom and pan are available in the plotting area. Click on the <code>update/reset view</code> button to restore the full view.</p>
<p><img alt="" src="../images/stereo_interface.png" /></p>
<h2 id="plotting-procedure">Plotting procedure<a class="headerlink" href="#plotting-procedure" title="Permanent link">&para;</a></h2>
<h3 id="setting-up-the-crystal">Setting up the crystal<a class="headerlink" href="#setting-up-the-crystal" title="Permanent link">&para;</a></h3>
<p>Stereographic projection reflects the symmetry of a given lattice system which depends on the lattice parameters <span class="arithmatex"><span class="MathJax_Preview">a,b,c</span><script type="math/tex">a,b,c</script></span> and the angles <span class="arithmatex"><span class="MathJax_Preview">\alpha</span><script type="math/tex">\alpha</script></span>, <span class="arithmatex"><span class="MathJax_Preview">\beta</span><script type="math/tex">\beta</script></span> and <span class="arithmatex"><span class="MathJax_Preview">\gamma</span><script type="math/tex">\gamma</script></span> of the cell.  <span class="arithmatex"><span class="MathJax_Preview">a,b,c</span><script type="math/tex">a,b,c</script></span> and <span class="arithmatex"><span class="MathJax_Preview">\alpha, \beta, \gamma</span><script type="math/tex">\alpha, \beta, \gamma</script></span> can be set up in the <strong>Crystal parameters</strong>.</p>
<p><img alt="" src="../images/system.png" /></p>
<div class="admonition info crystal metric">
<p class="admonition-title">Info</p>
<p>A crystal direction expressed by their Miller indices are related to cartesian coordinates, in the crystal frame, by:</p>
<div class="arithmatex">
<div class="MathJax_Preview"> 
\begin{bmatrix}x\\ y \\ z \end{bmatrix}=D \begin{bmatrix}u \\ v \\ w \end{bmatrix}
</div>
<script type="math/tex; mode=display"> 
\begin{bmatrix}x\\ y \\ z \end{bmatrix}=D \begin{bmatrix}u \\ v \\ w \end{bmatrix}
</script>
</div>
<p>with</p>
<div class="arithmatex">
<div class="MathJax_Preview">
D=
\begin{pmatrix} 
a &amp; b \cos \gamma &amp; c \cos \beta \\ 
0 &amp; b \sin \gamma &amp;  c (\cos \alpha - \cos \beta  \cos \gamma)/ \sin \gamma\\ 
0 &amp; 0 &amp; V/(a b \sin \gamma) 
\end{pmatrix}
</div>
<script type="math/tex; mode=display">
D=
\begin{pmatrix} 
a & b \cos \gamma & c \cos \beta \\ 
0 & b \sin \gamma &  c (\cos \alpha - \cos \beta  \cos \gamma)/ \sin \gamma\\ 
0 & 0 & V/(a b \sin \gamma) 
\end{pmatrix}
</script>
</div>
<p><span class="arithmatex"><span class="MathJax_Preview">V</span><script type="math/tex">V</script></span> being the crystal volume <span class="arithmatex"><span class="MathJax_Preview">V = a b c \sqrt {1 - \cos^2\alpha - \cos^2 \beta - \cos^2 \gamma + 2 \cos \alpha \cos \beta \cos \gamma }</span><script type="math/tex">V = a b c \sqrt {1 - \cos^2\alpha - \cos^2 \beta - \cos^2 \gamma + 2 \cos \alpha \cos \beta \cos \gamma }</script></span></p>
<p>Inversely in the reciprocal space, poles, i.e. normal to planes are related by:</p>
<div class="arithmatex">
<div class="MathJax_Preview"> 
\begin{pmatrix}x\\ y \\ z \end{pmatrix}=D^\ast \begin{pmatrix}h \\ k \\ l \end{pmatrix}
</div>
<script type="math/tex; mode=display"> 
\begin{pmatrix}x\\ y \\ z \end{pmatrix}=D^\ast \begin{pmatrix}h \\ k \\ l \end{pmatrix}
</script>
</div>
<p>with <span class="arithmatex"><span class="MathJax_Preview">D^\ast= (D^{-1}) ~^T</span><script type="math/tex">D^\ast= (D^{-1}) ~^T</script></span>.</p>
<p>The metric of the crystal <span class="arithmatex"><span class="MathJax_Preview">G</span><script type="math/tex">G</script></span> allows to measure distance in direct and reciprocal space. The inter-reticular spacing for a plane <span class="arithmatex"><span class="MathJax_Preview">(h,k,l)</span><script type="math/tex">(h,k,l)</script></span> for instance is given by: </p>
<div class="arithmatex">
<div class="MathJax_Preview">
d_{hkl}=\frac{1}{d^\ast_{hkl}}=\frac{1}{\sqrt{(h \ k \ l)G^\star (h \ k \ l)~^T}}
</div>
<script type="math/tex; mode=display">
d_{hkl}=\frac{1}{d^\ast_{hkl}}=\frac{1}{\sqrt{(h \ k \ l)G^\star (h \ k \ l)~^T}}
</script>
</div>
<p>with </p>
<div class="arithmatex">
<div class="MathJax_Preview"> 
G^\ast=D^\ast~^T D^\ast
</div>
<script type="math/tex; mode=display"> 
G^\ast=D^\ast~^T D^\ast
</script>
</div>
</div>
<p>Change the number of pole/direction drawn by increasing or decreasing the value of <code>d</code> and/or by changing the <code>maximum indices</code> first value (see simple-labels for the second value below).</p>
<p><img alt="" src="../images/stereo-crystal.png" /></p>
<p>Crystal structure can be imported from the <code>structure</code> menu. This menu can be populated by adding structures in the <code>structure.txt</code> files following the template:</p>
<div class="highlight"><pre><span></span><code>Name a(A) b(A) c(A) alpha beta gamma space group
</code></pre></div>
<p>The space group is defined in the <code>space_group.txt</code> file following the scheme:</p>
<div class="highlight"><pre><span></span><code>Name
Atom name1 x1 y1 z1
Atom name1 x2 y2 z2
...
Atom name2 x3 y3 z3
</code></pre></div>
<p>Additionally, atoms need to be defined in the <code>scattering.txt</code> file (see <a href="../diffraction/">diffraction</a> for more details).</p>
<p>From diffraction, crystals with different space groups (even with the same lattice system) present diffraction vectors, i.e. in the reciprocal space, with different intensities. Filling the space group field and ticking the <code>reciprocal indices</code> box will allow to plot poles with sizes proportional to their intensity (see the <a href="../diffraction/">diffraction</a> page for more details).</p>
<p><img alt="" src="../images/reciproc.png" /></p>
<blockquote>
<p>Example for a TiAl crystal</p>
</blockquote>
<h3 id="from-euler-angles">From Euler angles<a class="headerlink" href="#from-euler-angles" title="Permanent link">&para;</a></h3>
<p>Stereographic projections can be drawn from the 3 Euler angles. The angles can be read at all time after rotation operations. <span class="arithmatex"><span class="MathJax_Preview">\alpha</span><script type="math/tex">\alpha</script></span>-tilt and inclination angles can be read from the mouse position on  the Wulff net.</p>
<p><img alt="" src="../images/euler_box.png" /></p>
<h3 id="from-a-zone-axis">From a zone axis<a class="headerlink" href="#from-a-zone-axis" title="Permanent link">&para;</a></h3>
<p>If a zone axis can be assigned, the orientation can be retrieved in the following way:</p>
<ol>
<li>
<p>determine <span class="arithmatex"><span class="MathJax_Preview">\langle u, v, w\rangle</span><script type="math/tex">\langle u, v, w\rangle</script></span> indices of the zone axis <sup id="fnref:za"><a class="footnote-ref" href="#fn:za">6</a></sup> and identify one diffraction vector (see <a href="../diffraction/">diffraction</a>)</p>
</li>
<li>
<p>set first tilt angles <span class="arithmatex"><span class="MathJax_Preview">\alpha</span><script type="math/tex">\alpha</script></span>, <span class="arithmatex"><span class="MathJax_Preview">\beta</span><script type="math/tex">\beta</script></span>, <span class="arithmatex"><span class="MathJax_Preview">\theta</span><script type="math/tex">\theta</script></span> (comma separated) to 0,0,0 and inclination <span class="arithmatex"><span class="MathJax_Preview">\eta</span><script type="math/tex">\eta</script></span> to 0</p>
</li>
<li>
<p>tick the <code>ZA</code> box</p>
</li>
<li>
<p>plot and then rotate around <code>z</code> (or <code>Rotation along g</code>) in order to bring the diffraction vector at the correct inclination in the projection reference frame. Note this angle.</p>
</li>
<li>
<p>set <span class="arithmatex"><span class="MathJax_Preview">\alpha</span><script type="math/tex">\alpha</script></span>, <span class="arithmatex"><span class="MathJax_Preview">\beta</span><script type="math/tex">\beta</script></span>, <span class="arithmatex"><span class="MathJax_Preview">\theta</span><script type="math/tex">\theta</script></span> to the values where the zone axis was recorded. Indicate <span class="arithmatex"><span class="MathJax_Preview">\eta</span><script type="math/tex">\eta</script></span> with the retrieved value.</p>
</li>
</ol>
<p><img alt="" src="../images/rot-g.png" /></p>
<h3 id="from-a-diffraction-vector">From a diffraction vector<a class="headerlink" href="#from-a-diffraction-vector" title="Permanent link">&para;</a></h3>
<p>The orientation can be alternatively set the following way: </p>
<ol>
<li>
<p>choose a diffraction vector <span class="arithmatex"><span class="MathJax_Preview">(h,k,l)</span><script type="math/tex">(h,k,l)</script></span> (see <a href="../diffraction/">diffraction</a> to determine it)</p>
</li>
<li>
<p>set its inclination <span class="arithmatex"><span class="MathJax_Preview">\eta</span><script type="math/tex">\eta</script></span> and tilt angles <span class="arithmatex"><span class="MathJax_Preview">\alpha</span><script type="math/tex">\alpha</script></span>, <span class="arithmatex"><span class="MathJax_Preview">\beta</span><script type="math/tex">\beta</script></span>, <span class="arithmatex"><span class="MathJax_Preview">\theta</span><script type="math/tex">\theta</script></span> (comma separated)</p>
</li>
<li>
<p>adjust a second diffraction vector by rotating around the first vector</p>
</li>
</ol>
<p><img alt="" src="../images/stereo-diff.png" /></p>
<div class="admonition info">
<p class="admonition-title">Multiple tilting axes</p>
<p>When considering a diffraction vector obtained after double tilt (<span class="arithmatex"><span class="MathJax_Preview">\alpha</span><script type="math/tex">\alpha</script></span> and <span class="arithmatex"><span class="MathJax_Preview">\beta</span><script type="math/tex">\beta</script></span>) or after tilt-rotation (<span class="arithmatex"><span class="MathJax_Preview">\alpha</span><script type="math/tex">\alpha</script></span>, <span class="arithmatex"><span class="MathJax_Preview">\theta</span><script type="math/tex">\theta</script></span>), the diffraction vector should be placed on the stereographic projection taking into account the fact that the <span class="arithmatex"><span class="MathJax_Preview">\beta</span><script type="math/tex">\beta</script></span> (or <span class="arithmatex"><span class="MathJax_Preview">\theta</span><script type="math/tex">\theta</script></span>) -tilt axis moves with the holder while <span class="arithmatex"><span class="MathJax_Preview">\alpha</span><script type="math/tex">\alpha</script></span>-tilt is fixed.
For instance, if the <span class="arithmatex"><span class="MathJax_Preview">(1,1,1)</span><script type="math/tex">(1,1,1)</script></span> diffraction vector is recorded at <span class="arithmatex"><span class="MathJax_Preview">(\alpha,\beta,\theta)=(10,-20,0)</span><script type="math/tex">(\alpha,\beta,\theta)=(10,-20,0)</script></span> with an inclination of <span class="arithmatex"><span class="MathJax_Preview">\eta=40</span><script type="math/tex">\eta=40</script></span>, the diffraction is placed such that after rotating first by <span class="arithmatex"><span class="MathJax_Preview">\beta=-20</span><script type="math/tex">\beta=-20</script></span> and second by <span class="arithmatex"><span class="MathJax_Preview">\alpha=10</span><script type="math/tex">\alpha=10</script></span> it forms an angle <span class="arithmatex"><span class="MathJax_Preview">\eta=40</span><script type="math/tex">\eta=40</script></span> with the <span class="arithmatex"><span class="MathJax_Preview">y</span><script type="math/tex">y</script></span> direction on the diffraction pattern (owing that there is no rotation between the <span class="arithmatex"><span class="MathJax_Preview">\alpha</span><script type="math/tex">\alpha</script></span> tilt axis and the <span class="arithmatex"><span class="MathJax_Preview">y</span><script type="math/tex">y</script></span> direction). This means that in the sample frame, the diffraction vector coordinates are, starting from <span class="arithmatex"><span class="MathJax_Preview">[0,1,0]</span><script type="math/tex">[0,1,0]</script></span>, in the direction <span class="arithmatex"><span class="MathJax_Preview">[x,y,z]</span><script type="math/tex">[x,y,z]</script></span>, given by: a rotation of <span class="arithmatex"><span class="MathJax_Preview">-\eta</span><script type="math/tex">-\eta</script></span> then a rotation of <span class="arithmatex"><span class="MathJax_Preview">-\alpha</span><script type="math/tex">-\alpha</script></span> and finally a rotation of <span class="arithmatex"><span class="MathJax_Preview">-\beta</span><script type="math/tex">-\beta</script></span>:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
[x,y,z]^T=R_x(-\beta)R_y(-\alpha)R_z(-\eta)[0,1,0]^T
</div>
<script type="math/tex; mode=display">
[x,y,z]^T=R_x(-\beta)R_y(-\alpha)R_z(-\eta)[0,1,0]^T
</script>
</div>
<p><img alt="" src="../images/double-tilt-rot.png" /></p>
</div>
<h3 id="plotting-polesplanescones">Plotting poles/planes/cones<a class="headerlink" href="#plotting-polesplanescones" title="Permanent link">&para;</a></h3>
<p>Poles (or directions) can be additionally plotted. <code>Add</code> a pole or all the symmetric ones by pressing <code>Symmetry</code> after entering the indices comma separated. A <code>Plane</code> or all their symmetric,<code>Sym Plane</code> can be drawn.
A <code>Cone</code> can be drawn by specifying its aperture angle.</p>
<p><img alt="" src="../images/plot_planes.png" /></p>
<p>Iso-schmid factor lines can be plotted by specifying the plane in the pole/plane field and by pressing the <code>Schmid</code> button. The straining axis is here parallel to the <span class="arithmatex"><span class="MathJax_Preview">\alpha</span><script type="math/tex">\alpha</script></span>-tilt axis. Further explanation will be given
<a href="./#schmid-factor">here</a>.</p>
<p><img alt="" src="../images/iso-schmid.png" /></p>
<p>Finally inter-reticular distances are given by entering a plane normal on the pole/plane field and by pressing <code>dhkl</code> button. The value appears in a field near the button.</p>
<h3 id="simple-labels">Simple labels<a class="headerlink" href="#simple-labels" title="Permanent link">&para;</a></h3>
<p>Simplified labels can be drawn if the <code>simple label</code> box is ticked. By default, simple labels are searched within an angular range of 1 degree, but it can be changed in filling the simple label field. The maximum indices for the search depend on the second values of the <code>max indices</code> value. By default, it is set to 20 but can be increased (need to replot). Keep in mind that large values will slow down plotting and searching.</p>
<p><img alt="" src="../images/simple.png" /></p>
<h2 id="layout">Layout<a class="headerlink" href="#layout" title="Permanent link">&para;</a></h2>
<p>Several layout options have been already discussed. Additional ones are presented here. </p>
<ul>
<li>
<p>Colors can be set for poles or planes plotted.  </p>
</li>
<li>
<p>Open symbols can be drawn by ticking the <code>open/filled</code> box (default are filled symbols).</p>
</li>
<li>
<p>Wulff net can be drawn if the <code>Wulff net</code> box is ticked.</p>
</li>
<li>
<p>Marker size and text size can be indicated in the corresponding fields.</p>
</li>
<li>
<p><span class="arithmatex"><span class="MathJax_Preview">[uvw]</span><script type="math/tex">[uvw]</script></span> can be displayed by ticking the <code>uvw</code> box and replotting.</p>
</li>
</ul>
<p><img alt="" src="../images/layout.png" /></p>
<ul>
<li>By default, indices are plotted up to <code>max indices</code> = 3 if the <code>labels</code> box is ticked and the labels field is left empty. This limitation avoids slow plotting. To draw a large number of poles/directions with a limited number of indices, simply indicate the maximum plotting indices, in the labels field (example is shown below for <code>max indices</code> = 6 and <code>labels</code> = 1)</li>
</ul>
<p><img alt="" src="../images/indices.png" /></p>
<p>For hexagonal structure, the <code>hexa</code> box can be selected to let the 4 indices notations.</p>
<div class="admonition info">
<p class="admonition-title">Hexagonal structure and notation</p>
<p>For hexagonal structure, it is more convenient to represent directions or planes using a basis with 4 integer indices than using the conventional cartesian basis. This basis is composed of the 3 vectors <span class="arithmatex"><span class="MathJax_Preview">\vec{a}_i</span><script type="math/tex">\vec{a}_i</script></span> separated by 120° angles and the <span class="arithmatex"><span class="MathJax_Preview">\vec{c}</span><script type="math/tex">\vec{c}</script></span> perpendicular to the <span class="arithmatex"><span class="MathJax_Preview">\vec{a}_i</span><script type="math/tex">\vec{a}_i</script></span> vectors. Hence any directions is given by <span class="arithmatex"><span class="MathJax_Preview">[uvtw]</span><script type="math/tex">[uvtw]</script></span> with <span class="arithmatex"><span class="MathJax_Preview">t=-u-v</span><script type="math/tex">t=-u-v</script></span>. In the reciprocal space, a plane is represented by <span class="arithmatex"><span class="MathJax_Preview">(hkil)</span><script type="math/tex">(hkil)</script></span> with <span class="arithmatex"><span class="MathJax_Preview">i=-h-k</span><script type="math/tex">i=-h-k</script></span>.</p>
<p>Transforming indices from the 3 <span class="arithmatex"><span class="MathJax_Preview">(HKL)</span><script type="math/tex">(HKL)</script></span> indices to 4 (hkil) indices is straightforward for planes as <span class="arithmatex"><span class="MathJax_Preview">H=h</span><script type="math/tex">H=h</script></span>, <span class="arithmatex"><span class="MathJax_Preview">K=k</span><script type="math/tex">K=k</script></span>, <span class="arithmatex"><span class="MathJax_Preview">L=l</span><script type="math/tex">L=l</script></span>. For directions, <span class="arithmatex"><span class="MathJax_Preview">[UVW]</span><script type="math/tex">[UVW]</script></span> we have the relationships, <span class="arithmatex"><span class="MathJax_Preview">U=2u+v</span><script type="math/tex">U=2u+v</script></span>, <span class="arithmatex"><span class="MathJax_Preview">V=2v+u</span><script type="math/tex">V=2v+u</script></span> and <span class="arithmatex"><span class="MathJax_Preview">W=w</span><script type="math/tex">W=w</script></span> or <span class="arithmatex"><span class="MathJax_Preview">u=1/3(2U-V)</span><script type="math/tex">u=1/3(2U-V)</script></span>, <span class="arithmatex"><span class="MathJax_Preview">v=1/3(2V-U)</span><script type="math/tex">v=1/3(2V-U)</script></span> and <span class="arithmatex"><span class="MathJax_Preview">w=W</span><script type="math/tex">w=W</script></span>.</p>
<p>Note that with the four indices notations, directions are perpendicular to plane normals (i.e. contain in a plane) if <span class="arithmatex"><span class="MathJax_Preview">(hkil)\cdot[uvtw]=0</span><script type="math/tex">(hkil)\cdot[uvtw]=0</script></span> as shown for instance below.</p>
<p>Note that for Euler angles convention, <span class="arithmatex"><span class="MathJax_Preview">\langle a \rangle</span><script type="math/tex">\langle a \rangle</script></span> is parallel to <span class="arithmatex"><span class="MathJax_Preview">x</span><script type="math/tex">x</script></span> and <span class="arithmatex"><span class="MathJax_Preview">\langle c \rangle</span><script type="math/tex">\langle c \rangle</script></span> is parallel to <span class="arithmatex"><span class="MathJax_Preview">z</span><script type="math/tex">z</script></span> at <span class="arithmatex"><span class="MathJax_Preview">(0,0,0)</span><script type="math/tex">(0,0,0)</script></span>.</p>
<p><img alt="" src="../images/hexa.png" /></p>
</div>
<p>Except <code>uvw</code> and colors, the above features can be updated by clicking the <code>Update/Reset view</code> button.</p>
<div class="admonition info">
<p class="admonition-title">click a pole/directions</p>
<p>By right clicking on the stereographic projection, poles or directions (if <code>uvw</code> is ticked) will be displayed. Make <code>Ctrl+z</code> to remove the last click.</p>
</div>
<h2 id="additional-features">Additional features<a class="headerlink" href="#additional-features" title="Permanent link">&para;</a></h2>
<p>They are accessible from the menu bar.</p>
<h3 id="save">Save<a class="headerlink" href="#save" title="Permanent link">&para;</a></h3>
<p>Stereographic plots can be saved as image with <code>png</code> format.</p>
<h3 id="angle">Angle<a class="headerlink" href="#angle" title="Permanent link">&para;</a></h3>
<p>Angles between two poles (or two directions if the <code>uvw</code> button is ticked) can be computed by entering them in the field <code>n1</code> and <code>n2</code> (comma separated). The result appears after pressing <code>OK</code>.  <code>Cancel</code> to quit.</p>
<p><img alt="" src="../images/angle.png" /></p>
<h3 id="schmid-factor">Schmid factor<a class="headerlink" href="#schmid-factor" title="Permanent link">&para;</a></h3>
<p>Schmid factors can be computed by entering both <span class="arithmatex"><span class="MathJax_Preview">\vec{b}</span><script type="math/tex">\vec{b}</script></span> (as a direction), plane normal <span class="arithmatex"><span class="MathJax_Preview">\vec{n}</span><script type="math/tex">\vec{n}</script></span> and straining axis <span class="arithmatex"><span class="MathJax_Preview">\vec{T}</span><script type="math/tex">\vec{T}</script></span>. <span class="arithmatex"><span class="MathJax_Preview">\vec{T}</span><script type="math/tex">\vec{T}</script></span> should be expressed in the microscope coordinate system.</p>
<p><img alt="" src="../images/SF.png" /></p>
<p>After pressing <code>OK</code>, the Schmid factor appears below the the <span class="arithmatex"><span class="MathJax_Preview">T</span><script type="math/tex">T</script></span> field. In the box below appear all possible slip systems <code>n</code>, <code>b</code>, with their Schmid factor values <code>s</code>.</p>
<div class="admonition info">
<p class="admonition-title"> Schimd factor</p>
<p>For a crystal strained along a tensile axis <span class="arithmatex"><span class="MathJax_Preview">\vec{T}</span><script type="math/tex">\vec{T}</script></span> with a stress <span class="arithmatex"><span class="MathJax_Preview">\sigma</span><script type="math/tex">\sigma</script></span>, dislocation slip on plane <span class="arithmatex"><span class="MathJax_Preview">\vec{n}</span><script type="math/tex">\vec{n}</script></span> with the Burgers vector <span class="arithmatex"><span class="MathJax_Preview">\vec{b}</span><script type="math/tex">\vec{b}</script></span> will happen if the resolved shear stress on the plane rises a critical value, i.e.
$$
 \tau_c=\sigma \cos {(\vec{n},\vec{T})} \cos{(\vec{b},\vec{T})}
$$
Thus, the most favored slip system should be the one with the highest Schmid factor i.e., <span class="arithmatex"><span class="MathJax_Preview">m=\cos{(\vec{n},\vec{T})} \cos{(\vec{b},\vec{T})}</span><script type="math/tex">m=\cos{(\vec{n},\vec{T})} \cos{(\vec{b},\vec{T})}</script></span>. For dislocation glide, <span class="arithmatex"><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span> should range between 0 and 0.5 </p>
</div>
<h3 id="xyz-directions">xyz directions<a class="headerlink" href="#xyz-directions" title="Permanent link">&para;</a></h3>
<p><span class="arithmatex"><span class="MathJax_Preview">x,y,z</span><script type="math/tex">x,y,z</script></span> directions can be determined in the <code>calculate xyz directions</code> menu. Simply press <code>update</code>. The values indicated correspond to poles (i.e. in reciprocal space). Copy, paste in the <code>pole/plane</code> field and <code>Add</code> to plot. To get directions, use the <code>hkl&lt;&gt;uvw</code> menu. Press <code>To uvw</code> or <code>To hkl</code> to make the conversion. Then, copy and paste the result in the same way except <code>uvw</code> box need to be ticked.</p>
<p><img alt="" src="../images/xyz.png" /></p>
<h3 id="list">List<a class="headerlink" href="#list" title="Permanent link">&para;</a></h3>
<p>A list of plotted poles/directions can be  displayed using the <code>show list poles/directions</code> menu. When the <code>Update list</code> button is pressed the list is printed in a table showing in columns:</p>
<ul>
<li>
<p>indices</p>
</li>
<li>
<p>a sign <code>o</code> for plotted or <code>x</code> for hidden</p>
</li>
<li>
<p><code>hkl</code> for a pole and <code>uvw</code> for a direction </p>
</li>
</ul>
<p>Poles/directions can be hidden or shown by selecting the corresponding rows and by clicking on <code>Add/Remove selected</code> button. Then the signs <code>o</code> or <code>x</code> change.</p>
<p>Planes or cones of the given poles/directions will be hidden/shown if the <code>plane</code> or <code>cone</code> box is checked. </p>
<p>If the list is updated, then the hidden poles/directions are deleted.</p>
<p>An easier navigation in the crystal space can be achieved by determining the tilt sequence to reach either a given two-beam condition or a zone axis. The angles are indicated in the last table column when pressing the <code>Compute tilt</code> button.</p>
<p>If the <code>ZA</code> (zone axis) button is ticked, the <span class="arithmatex"><span class="MathJax_Preview">\alpha</span><script type="math/tex">\alpha</script></span>-tilt and either <span class="arithmatex"><span class="MathJax_Preview">\beta</span><script type="math/tex">\beta</script></span> tilt or <span class="arithmatex"><span class="MathJax_Preview">\theta</span><script type="math/tex">\theta</script></span> tilt needed to reach the corresponding zone axis are computed. The corresponding <span class="arithmatex"><span class="MathJax_Preview">\beta</span><script type="math/tex">\beta</script></span> or <span class="arithmatex"><span class="MathJax_Preview">\theta</span><script type="math/tex">\theta</script></span> tilt button needs to be selected.</p>
<p>If the <code>ZA</code> button is not selected, the <span class="arithmatex"><span class="MathJax_Preview">\alpha</span><script type="math/tex">\alpha</script></span> tilt angle needed to have a given pole/direction perpendicular to the electron beam (may correspond to a two-beam condition) can be computed for a given <span class="arithmatex"><span class="MathJax_Preview">\beta</span><script type="math/tex">\beta</script></span> or <span class="arithmatex"><span class="MathJax_Preview">\theta</span><script type="math/tex">\theta</script></span> tilt angle.</p>
<p><img alt="" src="../images/stereo-list.png" /></p>
<h3 id="width">Width<a class="headerlink" href="#width" title="Permanent link">&para;</a></h3>
<p>Using <code>calculate apparent width</code> menu allows to plot the apparent width and apparent trace directions of an interface, when the sample is tilted along the <span class="arithmatex"><span class="MathJax_Preview">\alpha</span><script type="math/tex">\alpha</script></span>-tilt axis from -40° to 40°. More details on the method will be given in <a href="../interface/">interface</a>.</p>
<p>First, indicate the <code>plane</code>. The foil surface may be indicated if the box right to the box is ticked. The sample <code>thickness</code> may be indicated in  nm if the box is checked . If not, the apparent width is normalized by the interface width <span class="arithmatex"><span class="MathJax_Preview">d</span><script type="math/tex">d</script></span>. The <code>trace dir.</code> can be plotted if the box is checked with a blue overlay. Note that if several plots are made, which can be sometimes convenient, they will  be superimposed. To erase the plots, click the <code>clear</code> button.</p>
<p><img alt="" src="../images/width.png" /></p>
<h3 id="intersections">Intersections<a class="headerlink" href="#intersections" title="Permanent link">&para;</a></h3>
<p>Several intersections can be calculated through the <code>calculate intersections</code> menu.
In the different cases, results will appear by pressing <code>OK</code>. Results shown correspond to poles except if the <code>directions</code> box is ticked.</p>
<ul>
<li>
<p>intersections between two planes <code>n1</code> and <code>n2</code>.</p>
</li>
<li>
<p>intersections between a plane <code>n1</code> and the direction in the <span class="arithmatex"><span class="MathJax_Preview">(x,y)</span><script type="math/tex">(x,y)</script></span> plane making a given angle with the <span class="arithmatex"><span class="MathJax_Preview">Oy</span><script type="math/tex">Oy</script></span> direction indicated by an <code>angle</code> (°).</p>
</li>
<li>
<p>intersections between a plane <code>n1</code> and a cone <code>c</code> of a given angle aperture indicated by the <code>inclination angle</code> (°). If no solution, <code>nan</code> will appear.</p>
</li>
</ul>
<p><img alt="" src="../images/inter.png" /></p>
<h3 id="diffraction">Diffraction<a class="headerlink" href="#diffraction" title="Permanent link">&para;</a></h3>
<p>The <code>plot Kikuchi lines and diffraction pattern</code> menu allows simple diffraction features drawing. They can be accessed through the button <code>Diffraction</code> or <code>Kikuchi</code>, after setting a crystal and an orientation (see above).</p>
<h4 id="diffraction-pattern">Diffraction pattern<a class="headerlink" href="#diffraction-pattern" title="Permanent link">&para;</a></h4>
<p>The following parameters are needed:</p>
<ul>
<li>
<p>Acceleration voltage: <code>E(kv)</code></p>
</li>
<li>
<p><code>Aperture angle</code> determining the extension in (°) viewed in the reciprocal space</p>
</li>
<li>
<p><code>Max indices</code> determining the extension of the reciprocal space calculated</p>
</li>
<li>
<p><code>Brightness change</code> (in %) offsetting image intensity. Allow the visualization of low intensity spots</p>
</li>
<li>
<p><code>Thickness</code> is the sample thickness in nm</p>
</li>
<li>
<p><code>Excitation error</code> in 1/nm</p>
</li>
</ul>
<p>Click on <code>Diff calc.</code> button to compute the intensity of every g-vector (see <a href="../diffraction/">diffraction</a> for more details)</p>
<p>Click then on <code>OK</code> button to draw the diffraction pattern. Update the drawing by clicking <code>OK</code> if the orientation is changed.</p>
<p>Tick the <code>label</code> box to show indices (for hexagonal crystal, 3 indices are used).</p>
<div class="admonition info">
<p class="admonition-title">Diffraction pattern simulation</p>
<p>When an incoming electron wave of wavelength <span class="arithmatex"><span class="MathJax_Preview">\lambda</span><script type="math/tex">\lambda</script></span> and a wave vector <span class="arithmatex"><span class="MathJax_Preview">\vec{k}</span><script type="math/tex">\vec{k}</script></span> hits a crystal plane, it will be elastically diffracted in a direction given by the wave vector <span class="arithmatex"><span class="MathJax_Preview">\vec{k}_g</span><script type="math/tex">\vec{k}_g</script></span>, with the relation:
$$
\vec{k}_g=\vec{k}+\vec{g}
$$
or equivalently
$$
2d\sin{\theta_B}=\lambda
$$
where <span class="arithmatex"><span class="MathJax_Preview">\theta_B</span><script type="math/tex">\theta_B</script></span> is the Bragg angle and <span class="arithmatex"><span class="MathJax_Preview">d</span><script type="math/tex">d</script></span> the interplanar distance defined by the <span class="arithmatex"><span class="MathJax_Preview">\vec{g}</span><script type="math/tex">\vec{g}</script></span> vector. </p>
<p>When the crystal is tilted away from the Bragg condition, diffraction ceases but not abruptly. To determine the decrease of the intensity, we need to define the vector <span class="arithmatex"><span class="MathJax_Preview">\vec{s}</span><script type="math/tex">\vec{s}</script></span> which norm is called the excitation error, as shown below.</p>
<p><img alt="" src="../images/bragg.png" /></p>
<p>Two beam calculations show that:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
I = \frac{\pi^2}{\xi^2}\frac{\sin^2{(\pi s_e t)}}{( \pi s_e )^2}
</div>
<script type="math/tex; mode=display">
I = \frac{\pi^2}{\xi^2}\frac{\sin^2{(\pi s_e t)}}{( \pi s_e )^2}
</script>
</div>
<p>where <span class="arithmatex"><span class="MathJax_Preview">t</span><script type="math/tex">t</script></span> is the crystal thickness, <span class="arithmatex"><span class="MathJax_Preview">\xi</span><script type="math/tex">\xi</script></span> the extinction distance, which indicates how the diffracted electron wave oscillates through the crystal, and <span class="arithmatex"><span class="MathJax_Preview">s_e= \sqrt{(s^2 + 1/\xi^2)}</span><script type="math/tex">s_e= \sqrt{(s^2 + 1/\xi^2)}</script></span> the effective excitation error.   </p>
<p>For a given orientation, the excitation error <span class="arithmatex"><span class="MathJax_Preview">s</span><script type="math/tex">s</script></span> can be computed for every possible diffraction vectors, and then their corresponding intensity.</p>
<p>Absorption was in addition taken into account. It implies taking a second extinction distance <span class="arithmatex"><span class="MathJax_Preview">\xi'_g</span><script type="math/tex">\xi'_g</script></span> defined from the imaginary part of the crystal potential. Here <span class="arithmatex"><span class="MathJax_Preview">\xi'_g</span><script type="math/tex">\xi'_g</script></span> is fixed chosen as <span class="arithmatex"><span class="MathJax_Preview">\xi'_g/\xi_g</span><script type="math/tex">\xi'_g/\xi_g</script></span> = 10.</p>
<p>Note that all the above approximations are not intended to reproduce the correct intensities for multiple beam as in zone axes but provide a first guess.</p>
</div>
<p><img alt="" src="../images/diffraction.png" /></p>
<h4 id="kikuchi-lines">Kikuchi lines<a class="headerlink" href="#kikuchi-lines" title="Permanent link">&para;</a></h4>
<p>Kikuchi lines results from inelastic scattering in the sample and will be more discussed in the <a href="../kikuchi/">Kikuchi section</a>. They can be plotted by selecting <code>Kikuchi</code> button.</p>
<p>The following parameters are needed:</p>
<ul>
<li>
<p>Acceleration voltage: <code>E(kv)</code></p>
</li>
<li>
<p><code>Aperture angle</code> determining the extension in (°) viewed in the reciprocal space</p>
</li>
<li>
<p><code>Max indices</code> determining the number of bands calculated</p>
</li>
</ul>
<p>Click on <code>Diff calc.</code> button to compute the intensity of the band.</p>
<p>Click then on <code>OK</code> button to draw the Kikuchi pattern. Update the drawing by clicking <code>OK</code> if the orientation is changed.</p>
<p>Change the <code>Aperture angle</code> to view a larger pattern.</p>
<p>Tick the <code>label</code> box to show indices (for hexagonal crystal, 3 indices are used).</p>
<div class="admonition info">
<p class="admonition-title">Kikuchi band formation</p>
<p>When inelastically scattered electrons are in Bragg conditions, they will diffract, but because they can come from different directions, they will be scattered in a cone around <span class="arithmatex"><span class="MathJax_Preview">\vec{g}</span><script type="math/tex">\vec{g}</script></span>. As there are two diffraction directions (<span class="arithmatex"><span class="MathJax_Preview">\pm \vec{g}</span><script type="math/tex">\pm \vec{g}</script></span>), two cones will form, one being brighter and the other darker than the background. When hitting the observation screen, they will form pairs of lines which separation width is proportional to the inter-planar distance <span class="arithmatex"><span class="MathJax_Preview">d</span><script type="math/tex">d</script></span>. Their projection is called gnomonic, i.e. a point of coordinate <span class="arithmatex"><span class="MathJax_Preview">(x,y,z)</span><script type="math/tex">(x,y,z)</script></span> will become <span class="arithmatex"><span class="MathJax_Preview">(X,Y)</span><script type="math/tex">(X,Y)</script></span> with <span class="arithmatex"><span class="MathJax_Preview">X = x/z</span><script type="math/tex">X = x/z</script></span> and <span class="arithmatex"><span class="MathJax_Preview">Y = y / z</span><script type="math/tex">Y = y / z</script></span>.</p>
<p>Here, to mimic the kinematical approximation, the line widths are proportional to the intensity of the corresponding diffraction vector and the intensity difference between the lines are not taken into account.</p>
</div>
<p><img alt="" src="../images/kikuchi.png" /></p>
<h3 id="pole-and-inverse-pole-figures">Pole and inverse pole figures<a class="headerlink" href="#pole-and-inverse-pole-figures" title="Permanent link">&para;</a></h3>
<p>Pole figures (PF) represent given (equivalent) poles in the microscope coordinates. At variance, inverse pole figures (IPF) are used to represent a given direction in the crystal coordinate system. As they reflect the crystal structure, IPF are drawn in the minimal area of the stereographic projection, called the standard triangle, where all equivalent poles or crystal directions can be brought back by a point group symmetry operation of the crystal. Hence, seven different standard triangles corresponding to the seven crystal systems have to be considered. For cubic crystals for instance, the standard triangle, is defined by the <span class="arithmatex"><span class="MathJax_Preview">(010)</span><script type="math/tex">(010)</script></span>, <span class="arithmatex"><span class="MathJax_Preview">(\bar{1}01)</span><script type="math/tex">(\bar{1}01)</script></span> and <span class="arithmatex"><span class="MathJax_Preview">(\bar{1}10)</span><script type="math/tex">(\bar{1}10)</script></span> planes and the <span class="arithmatex"><span class="MathJax_Preview">[001]</span><script type="math/tex">[001]</script></span>, <span class="arithmatex"><span class="MathJax_Preview">[111]</span><script type="math/tex">[111]</script></span> and <span class="arithmatex"><span class="MathJax_Preview">[101]</span><script type="math/tex">[101]</script></span> directions as vertices. </p>
<p>To draw PF and IPF:</p>
<ul>
<li>
<p>use the <code>PF/IPF</code> menu and select <code>Draw PF/IPF</code>.</p>
</li>
<li>
<p>once the crystal is selected and plotted in the main window, press <code>Draw Standard Triangle</code>.</p>
</li>
</ul>
<p>For IPF:</p>
<ul>
<li>
<p>to add directions, tick the <code>uvw</code> button in the main window. Untick to draw poles.</p>
</li>
<li>
<p>Fill the pole entry and click <code>Add pole</code>. The pole/direction or an equivalent one is plotted with the selected color.</p>
</li>
<li>
<p>Untick the <code>Show labels</code> button and press <code>Refresh view</code> to hide the labels. Label sizes can be changed through the <code>Text size</code> entry in the main window and updated after pressing <code>Update/Reset view</code> button and <code>Refresh view</code>.</p>
</li>
<li>
<p>Pole/directions are stored in the drop down list. Select one and  click <code>Remove pole</code> to remove them. </p>
</li>
<li>
<p>Given planes can be drawn using the plane drop down list and the <code>Add plane</code>, <code>Remove plane</code> buttons.</p>
</li>
<li>
<p>Zoom and pan using the toolbar. <code>Refresh view</code> to reset. </p>
</li>
<li>
<p>To draw pole figure given the current orientation <span class="arithmatex"><span class="MathJax_Preview">\varphi_1, \phi, \varphi_2</span><script type="math/tex">\varphi_1, \phi, \varphi_2</script></span> tick the <code>curr. orientation</code> box and click <code>plot IPF</code>. The direction (x,y,z) should be indicated in the left box. By default <code>1,0,0</code> thus indicates the x direction.</p>
</li>
</ul>
<p><img alt="" src="../images/ipf.png" /></p>
<p>For PF:</p>
<ul>
<li>For a given orientation, tick the <code>curr. orientation</code> box and click <code>plot PF</code>. The pole {h,k,l} should be indicated in the left box. By default <code>1,0,0</code> thus indicates the {1,0,0} poles.</li>
</ul>
<p>Import data to plot IPF and PF for different orientations (cloud points):</p>
<ul>
<li><code>Import data</code> from <code>.txt</code> file with the following scheme</li>
</ul>
<div class="highlight"><pre><span></span><code># Any comments

phi1,phi,phi2 
...
</code></pre></div>
<ul>
<li>
<p>After import the file name appears below. Note that the <code>curr. orientation</code> should not be ticked.</p>
</li>
<li>
<p>plot points with <code>plotPF</code> and <code>plotIPF</code> buttons.</p>
</li>
</ul>
<p><img alt="" src="../images/ipf_pf.png" /></p>
<div class="footnote">
<hr />
<ol>
<li id="fn:ang">
<p>In the reference frame, the vector <span class="arithmatex"><span class="MathJax_Preview">(0,1,0)</span><script type="math/tex">(0,1,0)</script></span> is first rotated along <span class="arithmatex"><span class="MathJax_Preview">z</span><script type="math/tex">z</script></span> by an angle <span class="arithmatex"><span class="MathJax_Preview">\eta</span><script type="math/tex">\eta</script></span> and then along <span class="arithmatex"><span class="MathJax_Preview">y</span><script type="math/tex">y</script></span> by an angle <span class="arithmatex"><span class="MathJax_Preview">\alpha</span><script type="math/tex">\alpha</script></span>, the rotation axes being fixed. The definition proposed here differs from the usual spherical coordinates that refers on azimuth and elevation angles.&#160;<a class="footnote-backref" href="#fnref:ang" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:ang2">
<p>These names usually refer in geography  to lines of given longitude and latitude connecting north and south poles. Here the lines connect east and west poles of the sphere.&#160;<a class="footnote-backref" href="#fnref:ang2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:ang3">
<p>As meridians pass by two poles, they correspond to full circles on the sphere. Contrary parallels (except the equator) correspond to smaller circles on the sphere. Meridians result then from the intersection of planes with the sphere and parallels from the intersection of cones of given aperture.&#160;<a class="footnote-backref" href="#fnref:ang3" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:kikuchi">
<p>Note that the Kikuchi bands move in the opposite directions than the corresponding planes in the stereographic projection. It is due to the fact that the electron beam points toward the lower hemisphere of the stereogram.&#160;<a class="footnote-backref" href="#fnref:kikuchi" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:1">
<p>We consider active rotations and rotation matrix acting by pre-multiplying column vectors.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
<li id="fn:za">
<p>be aware that zone axis indices are given in the direct space.&#160;<a class="footnote-backref" href="#fnref:za" title="Jump back to footnote 6 in the text">&#8617;</a></p>
</li>
</ol>
</div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
<!--  -->
<!--    <nav class="md-footer__inner md-grid" aria-label="Footer">-->
<!--      -->
<!--        -->
<!--        <a href="../kikuchi/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Kikuchi" rel="prev">-->
<!--          <div class="md-footer__button md-icon">-->
<!--            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>-->
<!--          </div>-->
<!--          <div class="md-footer__title">-->
<!--            <div class="md-ellipsis">-->
<!--              <span class="md-footer__direction">-->
<!--                Previous-->
<!--              </span>-->
<!--              Kikuchi-->
<!--            </div>-->
<!--          </div>-->
<!--        </a>-->
<!--      -->
<!--      -->
<!--        -->
<!--        <a href="../interface/" class="md-footer__link md-footer__link--next" aria-label="Next: Interface" rel="next">-->
<!--          <div class="md-footer__title">-->
<!--            <div class="md-ellipsis">-->
<!--              <span class="md-footer__direction">-->
<!--                Next-->
<!--              </span>-->
<!--              Interface-->
<!--            </div>-->
<!--          </div>-->
<!--          <div class="md-footer__button md-icon">-->
<!--            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>-->
<!--          </div>-->
<!--        </a>-->
<!--      -->
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Contact  &nbsp <A HREF="mailto:mompiou@cemes.fr"><img src="https://mompiou.github.io/pycotem/images/envelope.png"  ></A>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.01824240.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.e0abf5b0.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>